%
%
%
%%%
%%% Call \startPresentation at the beginning of the presentation to make
%%% the title and the outline slides as well as to set the proper background
%%% graphics
%%%
%
\gdef\startPresentation{%
%
\begin{frame}%
\locate{}{\resizebox{0.1\paperwidth}{!}{Version:~\the\year\nobreakdashes-\ifnum\month<10\relax0\fi\the\month\nobreakdashes-\ifnum\day<10\relax0\fi\the\day}}{0.875}{0.95}%
\locate{}{%
\parbox{\paperwidth}{%
\vspace{0.035\paperheight}%
\strut\hspace{0.05\paperwidth}\strut%
\raisebox{0.015\paperheight}{\includegraphics[width=0.085\paperwidth]{\bookbaseDir/graphics/logos/iao_logo}}%
\strut\hfill\strut%
\includegraphics[width=0.2\paperwidth]{\bookbaseDir/graphics/logos/hfuu_logo_text_black}%
\strut\hfill\strut%
\includegraphics[width=0.085\paperwidth]{\bookbaseDir/graphics/logos/hfuu_logo_round}%
\strut\hspace{0.05\paperwidth}\strut%
}}{0}{0}%
%
\centering%
%
%\color{iaoRed}%
\vspace{0.175\paperheight}%
\bigskip%
%
\huge{\inserttitle}\\%
\medskip%
\Large{\insertsubtitle}\\%
\bigskip%
\large{\insertauthor}\\%
%
%
\ifx\relax\insertauthoremail\relax%
\expandafter\@firstoftwo%
\else%
\expandafter\@secondoftwo%
\fi%
{%
\ifx\relax\insertauthorweb\relax%
\expandafter\@firstoftwo%
\else%
\expandafter\@secondoftwo%
\fi%
{}{%
\insertauthorweb\\%
}%
}{%
\insertauthoremail%
\ifx\relax\insertauthorweb\relax%
\expandafter\@firstoftwo%
\else%
\expandafter\@secondoftwo%
\fi%
{}{%
~\ensuremath{\cdot}~\insertauthorweb%
}\\%
}%
%
\bigskip%
%
\small{%
\begin{tabular}{r|l}%
\groupName~(\groupAbbreviation)&\groupNameCN\\%
\schoolName&\schoolNameCN\\%
\uniName&\uniNameCN\\%
\cityName&\cityNameCN%
\end{tabular}%
}%
%
\end{frame}%
%
\usebackgroundtemplate{}%
%
\introSlide%
%
\begin{frame}%
\frametitle{Outline}%
\locateGraphic{}{width=0.2\paperwidth}{\courseUrlQR}{0.775}{0.61}%
\tableofcontents[subsectionstyle=hide/hide/hide]%%
\end{frame}%
}%
%
\def\sectionintoc{}%
\def\beamer@sectionintoc#1#2#3#4#5{%
\ifnum\c@tocdepth>0%
\ifnum#4=\beamer@showpartnumber%
{%
\beamer@saveanother%
\gdef\beamer@todo{}%
\beamer@slideinframe=#1\relax%
\expandafter\only\beamer@tocsections{\gdef\beamer@todo{%
\beamer@tempcount=#5\relax%
\advance\beamer@tempcount by\beamer@sectionadjust%
\edef\inserttocsectionnumber{\the\beamer@tempcount}%
\def\inserttocsection{\hyperlink{Navigation#3}{#2}}%
\beamer@tocifnothide{\ifnum\c@section=#1\beamer@toc@cs\else\beamer@toc@os\fi}%
{%
\ifbeamer@pausesections\pause\fi%
\ifx\beamer@toc@ooss\beamer@hidetext%
\vskip0.5em%
\else%
\vfill%
\fi{%
\hbox{\vbox{%
\def\beamer@breakhere{\\}%
\beamer@tocact{\ifnum\c@section=#1\beamer@toc@cs\else\beamer@toc@os\fi}    {section in toc}}}%
\par%
}}}}%
\beamer@restoreanother%
}%
\beamer@todo%
\fi\fi%
}%
%
\AtBeginSection[]{%
\begin{frame}%
\locateGraphic{}{width=0.2\paperwidth}{\courseUrlQR}{0.775}{0.61}%
\centering%
\usebeamerfont{title}%
\insertsectionhead%
\end{frame}
}%
%
%
%%% The internal command for making an end-presentation slide
%%% #1 the name in the table of contents
%%% #2 the link
\gdef\@@@endSlide#1#2{%
\begin{frame}%
\locateGraphic{}{width=0.2\paperwidth}{\courseUrlQR}{0.775}{0.61}%
\pdfbookmark[1]{#1}{#2}%
%
\resizebox{0.3\paperwidth}{!}{谢谢您门}%
\bigskip\par%
\resizebox{0.3\paperwidth}{!}{Thank you}%
\par%
\end{frame}%
}%
%%%
%%% Call \endPresentation to mark the official end of the presentation.
%%% It may or may not add a slide with references.
%%% After this, you may still add appendix slides.
%%%
\gdef\endPresentation{%
%
\global\let\@framePatch\@framePatch@doNothing%
%
\@@@endSlide{Presentation End}{presentationEnd}%
%
\ifnum\@bib@numcites>0\relax%
\expandafter\@firstoftwo%
\else%
\expandafter\@secondoftwo%
\fi{%
%
\def\newblock{\beamer@newblock}%
%
\begin{frame}[allowframebreaks,t]{References}%
\begin{tiny}%
\printbibliography%
\end{tiny}%
\end{frame}%
}{}%
%
\global\let\@framePatch\@framePatch@addBookmarks%
}%
%
%
%
