%%
%% Do some font and internationalization setup.
%%
%
\RequirePackage[utf8]{inputenc}%
\RequirePackage[T1]{fontenc}%
%
\newcount\@bb@quote@depth\relax%
\@bb@quote@depth-1\relax%
%
%% Put text in quotes.
%% This command uses naturally double quotes, but if you nest quotations,
%% it will use single quotation marks, then double-triangle ones, and finally
%% just single triangular marks.
%% #1 the text
\protected\gdef\inQuotes#1{%
\advance\@bb@quote@depth by 1\relax%
\ifcase\@bb@quote@depth``\or`\or\guillemotleft\else\guilsinglleft\fi%
#1%
\ifcase\@bb@quote@depth''\or'\or\guillemotright\else\guilsinglright\fi%
\advance\@bb@quote@depth by -1\relax%
}%
%
%% Put text in single quotes
%% #1 the text
\protected\gdef\inSQuotes#1{`#1'}%
%
%% Render text in the style to render a software name
%% #1 the text
\ifIsBook\expandafter\@firstoftwo\else\expandafter\@secondoftwo\fi{%
\protected\gdef\softwareStyle#1{\scalebox{0.95}[1]{\texttt{#1}}}%
}{}%
\ifIsSlides\expandafter\@firstoftwo\else\expandafter\@secondoftwo\fi{%
\protected\gdef\softwareStyle#1{#1}%
}{}%
%
%% We use sans-serif as default font
\renewcommand{\familydefault}{\sfdefault}%%
%
%% Ensure that numbers in math mode are printed exactly as in normal text.
\DeclareSymbolFont{sfnumbers}{T1}{\familydefault}{m}{n}%
\SetSymbolFont{sfnumbers}{bold}{T1}{\familydefault}{b}{n}%
\DeclareMathSymbol{0}\mathalpha{sfnumbers}{"30}%
\DeclareMathSymbol{1}\mathalpha{sfnumbers}{"31}%
\DeclareMathSymbol{2}\mathalpha{sfnumbers}{"32}%
\DeclareMathSymbol{3}\mathalpha{sfnumbers}{"33}%
\DeclareMathSymbol{4}\mathalpha{sfnumbers}{"34}%
\DeclareMathSymbol{5}\mathalpha{sfnumbers}{"35}%
\DeclareMathSymbol{6}\mathalpha{sfnumbers}{"36}%
\DeclareMathSymbol{7}\mathalpha{sfnumbers}{"37}%
\DeclareMathSymbol{8}\mathalpha{sfnumbers}{"38}%
\DeclareMathSymbol{9}\mathalpha{sfnumbers}{"39}%
%
%
%% Maths fonts
\RequirePackage{amsfonts}%
%
%% Chinese character support
%%
\RequirePackage{CJKutf8}%
\AtBeginDocument{\CJK{UTF8}{gkai}}%
%\AtEndDocument{\end{CJK}}%
%
